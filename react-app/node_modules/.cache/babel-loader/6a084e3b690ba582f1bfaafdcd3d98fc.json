{"ast":null,"code":"var _jsxFileName = \"/home/nb/medley/medley-sesh/react-app/src/components/UpdateBiography/UpdateBiography.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { updateBiography, getOneMusician } from \"../../store/musician\";\nimport { Modal } from \"../../context/Modal\";\nimport { useHistory } from 'react-router-dom';\nimport './UpdateBiography.css';\n\nconst UpdateBiography = _ref => {\n  let {\n    musicianBiography,\n    musicianId\n  } = _ref;\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [biography, setBiography] = useState(\"\");\n  const [showModal, setModal] = useState(false);\n\n  const onSubmit = async e => {\n    const formData = new FormData();\n    formData.append(\"biography\", biography);\n    dispatch(updateBiography(formData, musicianId));\n    setModal(false);\n    history.push(`/musicians/${musicianId}`);\n  };\n\n  useEffect(() => {\n    dispatch(getOneMusician(parseInt(musicianId)));\n  }, [dispatch, musicianId]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n    id: \"biography-edit\",\n    onClick: () => setModal(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, \"Edit your biography\"), showModal && /*#__PURE__*/React.createElement(Modal, {\n    onClose: () => setModal(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    id: \"biography-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, \"Musician Biography\", /*#__PURE__*/React.createElement(\"textarea\", {\n    name: \"biography\",\n    placeholder: musicianBiography,\n    onChange: e => setBiography(e.target.value),\n    value: biography,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    id: \"update-biography-submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, \"Submit new biography\"))));\n};\n\nexport default UpdateBiography;","map":{"version":3,"sources":["/home/nb/medley/medley-sesh/react-app/src/components/UpdateBiography/UpdateBiography.js"],"names":["React","useEffect","useState","useDispatch","updateBiography","getOneMusician","Modal","useHistory","UpdateBiography","musicianBiography","musicianId","dispatch","history","biography","setBiography","showModal","setModal","onSubmit","e","formData","FormData","append","push","parseInt","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,eAAT,EAA0BC,cAA1B,QAAgD,sBAAhD;AACA,SAASC,KAAT,QAAsB,qBAAtB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,OAAO,uBAAP;;AAEA,MAAMC,eAAe,GAAG,QAAuC;AAAA,MAAtC;AAAEC,IAAAA,iBAAF;AAAqBC,IAAAA;AAArB,GAAsC;AAC7D,QAAMC,QAAQ,GAAGR,WAAW,EAA5B;AACA,QAAMS,OAAO,GAAGL,UAAU,EAA1B;AACA,QAAM,CAACM,SAAD,EAAYC,YAAZ,IAA4BZ,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACa,SAAD,EAAYC,QAAZ,IAAwBd,QAAQ,CAAC,KAAD,CAAtC;;AAEA,QAAMe,QAAQ,GAAG,MAAOC,CAAP,IAAa;AAC5B,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,WAAhB,EAA6BR,SAA7B;AACAF,IAAAA,QAAQ,CAACP,eAAe,CAACe,QAAD,EAAWT,UAAX,CAAhB,CAAR;AACAM,IAAAA,QAAQ,CAAC,KAAD,CAAR;AACAJ,IAAAA,OAAO,CAACU,IAAR,CAAc,cAAaZ,UAAW,EAAtC;AACD,GAND;;AAQAT,EAAAA,SAAS,CAAC,MAAM;AACdU,IAAAA,QAAQ,CAACN,cAAc,CAACkB,QAAQ,CAACb,UAAD,CAAT,CAAf,CAAR;AACD,GAFQ,EAEN,CAACC,QAAD,EAAWD,UAAX,CAFM,CAAT;AAIA,sBACE,uDACE;AAAQ,IAAA,EAAE,EAAC,gBAAX;AAA4B,IAAA,OAAO,EAAE,MAAMM,QAAQ,CAAC,IAAD,CAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,EAIGD,SAAS,iBACR,oBAAC,KAAD;AAAO,IAAA,OAAO,EAAE,MAAMC,QAAQ,CAAC,KAAD,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,QAAQ,EAAEC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,EAAE,EAAC,gBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAEE;AACE,IAAA,IAAI,EAAC,WADP;AAEE,IAAA,WAAW,EAAER,iBAFf;AAGE,IAAA,QAAQ,EAAGS,CAAD,IAAOJ,YAAY,CAACI,CAAC,CAACM,MAAF,CAASC,KAAV,CAH/B;AAIE,IAAA,KAAK,EAAEZ,SAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,eAUE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,EAAE,EAAC,yBAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAVF,CADF,CALJ,CADF;AAyBD,CA3CD;;AA4CA,eAAeL,eAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { updateBiography, getOneMusician } from \"../../store/musician\";\nimport { Modal } from \"../../context/Modal\";\nimport {useHistory} from 'react-router-dom';\nimport './UpdateBiography.css'\n\nconst UpdateBiography = ({ musicianBiography, musicianId }) => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [biography, setBiography] = useState(\"\");\n  const [showModal, setModal] = useState(false);\n\n  const onSubmit = async (e) => {\n    const formData = new FormData();\n    formData.append(\"biography\", biography);\n    dispatch(updateBiography(formData, musicianId));\n    setModal(false);\n    history.push(`/musicians/${musicianId}`)\n  };\n\n  useEffect(() => {\n    dispatch(getOneMusician(parseInt(musicianId)));\n  }, [dispatch, musicianId]);\n\n  return (\n    <>\n      <button id=\"biography-edit\" onClick={() => setModal(true)}>\n        Edit your biography\n      </button>\n      {showModal && (\n        <Modal onClose={() => setModal(false)}>\n          <form onSubmit={onSubmit}>\n            <label id=\"biography-form\">\n              Musician Biography\n              <textarea\n                name=\"biography\"\n                placeholder={musicianBiography}\n                onChange={(e) => setBiography(e.target.value)}\n                value={biography}\n              />\n            </label>\n            <button type=\"submit\" id=\"update-biography-submit\">\n              Submit new biography\n            </button>\n          </form>\n        </Modal>\n      )}\n    </>\n  );\n};\nexport default UpdateBiography;\n"]},"metadata":{},"sourceType":"module"}